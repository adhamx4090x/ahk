name: Build AHK to EXE

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest

    steps:
    - name: Checkout repo
      uses: actions/checkout@v4

    - name: Install AutoHotkey v1
      run: choco install autohotkey.install --version=1.1.36.02 -y

    - name: Compile AHK to EXE
      shell: cmd
      run: |
        "C:\Program Files\AutoHotkey\Compiler\Ahk2Exe.exe" /in hotkey0_0.ahk /out hotkey0_0.exe

    - name: Upload EXE
      uses: actions/upload-artifact@v4
      with:
        name: compiled-exe
        path: hotkey0_0.exe
